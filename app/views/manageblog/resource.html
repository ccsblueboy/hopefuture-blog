<h3>资源链接</h3>

<div class="row">
  <div class="col-sm-5">
    <h4>{{resourceFormTitle}}</h4>

    <form class="form-group" name="resourceForm" resource-validator>
      <div class="form-group">
        <label for="name"><i class="required">*</i> 资源名称</label>
        <input type="text" class="form-control" id="name" ng-model="resource.name" maxbyteslength="100">
      </div>
      <div class="form-group">
        <label for="categoryId">资源分类</label>
        <a href="" ng-click="manageCategory()">管理分类</a>
        <select name="categoryId" id="categoryId" class="form-control" ng-model="resource.categoryId"
                ng-options="category._id as category.name for category in categories">
          <option value="">无分类</option>
        </select>
      </div>
      <div class="form-group">
        <label for="link"><i class="required">*</i> 资源 URL</label>
        <input type="url" class="form-control" id="link" ng-model="resource.link" maxbyteslength="100">
      </div>
      <div class="form-group">
        <label for="description">描述</label>
        <textarea class="form-control" id="description" rows="3" ng-model="resource.description" maxbyteslength="1000"></textarea>
      </div>

      <div class="form-group">
        <button type="submit" class="btn btn-primary">{{submitText}}</button>
        <button type="button" class="btn btn-default ng-hide" ng-click="cancelEdit()" ng-show="editStatus">取消编辑</button>
      </div>

    </form>

    <hr/>

    <h4>资源分类</h4>

    <div ng-controller="ArticleLabelCtrl">
      <div class="form-inline">
        <div class="form-group">
          <input type="text" maxlength="20" ng-model="label" id="label" name="label" class="form-control ng-pristine ng-valid">
          <button ng-click="addLabel()" class="btn btn-info" type="button">添加</button>
        </div>

        <div ng-show="showLabelPanel" class="well well-sm label-list clearfix animate-show ng-hide">
        </div>

      </div>
    </div>

  </div>

  <div class="col-sm-7">

    <div class="btn-group">
      <button type="button" class="btn btn-primary" ng-click="delete();">
        <span class="glyphicon glyphicon-remove"></span> 删除
      </button>
    </div>

    <hr/>
    <table class="table table-striped table-hover">
      <thead>
      <tr>
        <th><input type="checkbox" ng-model="grid.checked" ng-change="selectAll()"/></th>
        <th>资源名称</th>
        <th>资源分类</th>
        <th>资源 URL</th>
        <th>&nbsp;</th>
      </tr>
      </thead>
      <tbody>
      <tr ng-repeat="item in items" id="{{item._id}}">
        <td><input type="checkbox" ng-model="item.checked" ng-change="selectItem()"/></td>
        <td>{{item.name | truncate:40:true}}</td>
        <td>{{item.categoryName || '无分类'}}</td>
        <td>{{item.link | truncate:40:true}}</td>
        <td>
          <a class="glyphicon glyphicon-pencil" href="" ng-click="edit(item._id,$index);"></a>
          <a class="glyphicon glyphicon-trash" href="" ng-click="delete(item);"></a>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
</div>
